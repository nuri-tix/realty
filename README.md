# Инструкция к сборке GULP от  Flizer'a

## Установка

Скачайте архив со сборкой себе на компьютер, разархивируйте его. (не рекомендуется использовать git clone, так как могут возникнуть ошибки)

Далее, откройте терминал по адресу папки и напишите команду npm i (убедитесь, что у Вас установлен Node.js). После этого, спустя какое-то время должна появиться папка node-modules. Если так и есть, то я вас поздравляю, на данный момент вы все сделали правильно :).

## Команды

**npm i** - установка всех зависимостей  
**gulp** - запуск сборки для разработки  
**gulp build** - запуск сборки для выпуска на продакшен (рекомендуется запускать каждый раз по окончанию работы над проектом)  
**gulp buildWebp** - запуск сборки для выпуска на продакшен + конвертация картинок в .webp (html и css обновлять не надо - это сделает сборка)

## Древо файлов
```
src--------------------------------------Директория с исходниками
├── assets-------------------------------Папка с дополнениями
│   ├── music----------------------------Музыка
│   └── video----------------------------Видео
├── fonts--------------------------------Папка для шрифтов
├── img----------------------------------Папка для картинок
│   └── icons----------------------------Папка для иконок
├── js-----------------------------------Папка с js кодом
│   ├── components-----------------------Папка с компонентами для js
│   ├── libs-----------------------------Папка с библиотеками js
│   │   ├── detect.min.js
│   │   ├── iziModal.min.js
│   │   ├── jquery.fancybox.min.js
│   │   ├── jquery.maskedinput.min.js
│   │   ├── jquery.validate.min.js
│   │   ├── lightgallery.min.js
│   │   ├── materialize.min.js
│   │   ├── slick.min.js
│   │   └── swiper.min.js
│   ├── functions.js---------------------Файл с функциями js
│   ├── script.js------------------------Основной файл js
│   └── vendors.js-----------------------Файл для подключения библиотек
├── json---------------------------------Папка с файлами json
├── scss---------------------------------Папка для scss кода
│   ├── components-----------------------Папка с компонентами scss
│   │   ├── base.scss
│   │   ├── fonts.scss
│   │   ├── footer.scss
│   │   ├── header.scss
│   │   ├── mixins.scss
│   │   └── nullstyle.scss
│   ├── libs------------------------------Папка с библиотеками scss
│   │   ├── iziModal.min.scss
│   │   ├── jquery.fancybox.min.scss
│   │   ├── lightgallery.min.scss
│   │   └── materialize.min.scss
│   └── style.scss------------------------Основной файл стилей
├── _footer.html--------------------------Отдельный файл с footer-ом сайта
├── _header.html--------------------------Отдельный файл с header-ом сайта
├── index.html----------------------------Index.html
```
## Начало работы

После всех манипуляций, в первую очередь надо установить необходимые шрифты (если вы их используете локально). Скачайте шрифты и положите их в папку fonts. После этого можно запускать gulp

### Запуск gulp

Для того, чтобы запустить сборку gulp, достаточно просто в терминале написать команду gulp. После этого в терминале появится много строк о том, что задачи запущены/выполнены. Главная из них - Serving files from: ./название папки/. Эта строка говорит о том, что все работает и можно приступать к работе.

В конечном итоге в Вашей директории должна появиться папка с таким же названием, что и директория. Это папка со всеми готовыми файлами, минифицированными CSS, JS, оптимизированными картинками и шрифтами.

### Шрифты

После добавления шрифтов, они автоматически добавляются в css файл, благодаря миксину. Но это еще не все. Необходимо перейти в файл fonts.scss и исправить все недочеты. А именно: если надо, то поменять название шрифта (самое первое значение) и исправить font-weight (проверить, что там где шрифт Bold - значение 700, ну и так далее). После этого можно от шрифтов оторваться.

### HTML

HTML настроен так, что уже подключены файл стилей и файлы скриптов. Нужно только в теге head поменять title и description. В сборке также присутствуют такие файлы, как _header.html и _footer.html. Это файлы хедера и футера сайтов, сделано для того, чтобы на многостраничных сайтах по несколько раз не дублировать код, а просто импортировать один файл. Соответственно, код для шапки и подвала сайта необходимо писать в этих файлах.

Так же, в с сборке есть плагин, который позволяет вставлять файлы в HTML и JS. Для этого необходимо прописать следующее:

```
@@include('путь-к-файлу', {})
```

Именно таким способом и стоит подключать header и footer сайта к страницам. Так же, вы можете создавать свои компоненты, которые можно так же подключить к любой из страниц. Для создания модуля используйте нижнее подчеркивание вначале названия файла (например **_cart.html**).

Если вы делаете многостраничный сайт, то для создания новой страницы просто создайте новый файл с расширением .html (например **page.html**) БЕЗ нижнего подчеркивания вначале.

### CSS

Все стили находятся в папке scss. Главный файл - style.scss. В него подключаются все остальные файлы из components и libs.

### SCSS Components

В папке components находятся несколько файлов:

1. base.scss - файл, в котором находятся все базовые стили, общие классы и тд. Например, если у вас на странице есть переиспользуемый класс title, то его стили следует записать именно в этот файл.

2. fonts.scss - в этот файл вставляется миксин с шрифтами, о котором я писал выше в разделе Шрифты.

3. footer.scss, header.scss - файлы, в которых находятся стили для header и footer.

4. mixins.scss - файл, в котором хранятся все миксины.

5. nullstyle.scss - файл с обнулением стилей. Вы можете так же использовать и reset.scss, или подобное, главное не забыть это перенести в основной файл style.scss.

### SCSS Libs

В папке libs находятся библиотеки, которые могут понадобиться во время работы.

### style.scss

В основном файле самой первой строчкой подключаются миксины. Далее подключается шрифт, используя font-face.

Далее идет блок с переменными. В переменную **fontFamily** в кавычки необходимо записать название шрифта по умолчанию. В переменную **mainColor** - цвет текста по умолчанию. В переменную **containerWidth** - ширина контентной части. Вы также можете создавать свои переменные, используя $название-переменной: значение-переменной; и переиспользовать переменные, просто указав их название в нужном месте.

После блока с переменными идет подключение обнуляющих стилей и стили для body, а именно шрифт и цвет по умолчанию.

Далее идет стиль для класса wrapper, который позволяет убрать горизонтальный скролл на странице. После wrapper идет класс container. Это стили для ограничивающего контейнера. Здесь вставлена переменная containerWidth, которая и задает ширину ограничивающего контейнера. Снизу указан padding по бокам в 15px, чтобы контейнер не прилипал к краям экрана.

После этого идет подключение base.scss, стили для header'a, footer'a и основные стили для страницы, которые также можно разбить на несколько файлов и подключать, используя **@import(название-файла)**. Заметьте, что писать .scss при @import не обязательно.

### JavaScript

Здесь все похоже на scss. В папке components находятся компоненты, которые подключаются в файл **functions.js**. Например, вы можете создать файл menu.js, в котором будет код для открытия меню на мобильных экранах. Чтобы этот код постоянно не копировать, можете просто импортировать файл в functions.js, который уже подключен к основному файлу script.js. Если вы хотите использовать библиотеки, то они находятся в папке libs, и подключать их стоит в файл vendors.js через директиву **@@include**.


### Изображения

Все изображения необходимо помещать в папку img. Благодаря gulp они сжимаются. что на выходе дает меньший размер. В папке icons хранятся иконки в формате svg. Они никак не модифицируются, это сделано просто для удобства.

### Дополнительные медиа

Все остальные медиа-файлы (музыка и видео) необходимо класть в папку media->music/video соответственно. Эти файлы также никак не модифицируются и не сжимаются.

### JSON

В папке json хранятся файлы для работы с json. Они также никак не модифицируются и не сжимаются.



## Рекомендации

После установки моей сборки, первым делом я рекомендую настроить ее под себя, а именно добавить необходимые компоненты и библиотеки, если надо, переименовать файлы и так далее. Сборка сделана для максимально комфортной верстки, но у каждого свои вкусы, поэтому я советую немного подогнать ее под себя. Помните, что если вы переименовываете какие-либо файлы, проверьте, чтобы эти файлы также были переименованы в местах, где вы их импортируете/подключаете

## Использование сборки для другого проекта

Когда вы настроили сборку под себя и поняли, что она полностью готова, сохраните в новой папке (или залейте на гитхаб) 3 файла: gulpfile.js, package.json и папку src. Далее, при старте нового проекта просто скопируйте эти файлы в новый проект, пропишите npm i, дождитесь установки модулей и пропишите gulp. Можете начинать свой проект :)

## Контакты

Если остались какие-то вопросы и/или предложения, то напишите мне в [Telegram](https://t.me/prokashev_daniil)

# Удачи!
